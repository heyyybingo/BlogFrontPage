(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{617:function(e,t,r){var s=r(3),n=r(618);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1},a=s(n,o);if(!n.locals||e.hot.invalidate){var i=n.locals;e.hot.accept(618,(function(){"string"==typeof(n=(n=r(618)).__esModule?n.default:n)&&(n=[[e.i,n,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,n.locals)?(i=n.locals,a(n)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=n.locals||{}},618:function(e,t,r){(t=r(4)(!1)).push([e.i,"@media screen and (max-width: 768px){.login .el-form .el-form-item .btn[data-v-45564c0c]{display:block;margin:0;margin-bottom:1em}}\n",""]),e.exports=t},619:function(e,t,r){var s=r(3),n=r(620);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1},a=s(n,o);if(!n.locals||e.hot.invalidate){var i=n.locals;e.hot.accept(620,(function(){"string"==typeof(n=(n=r(620)).__esModule?n.default:n)&&(n=[[e.i,n,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,n.locals)?(i=n.locals,a(n)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=n.locals||{}},620:function(e,t,r){(t=r(4)(!1)).push([e.i,"@media screen and (max-width: 768px){.register .el-form .el-form-item .btn[data-v-d8667d60]{display:block;margin:0;margin-bottom:1em}}\n",""]),e.exports=t},621:function(e,t,r){var s=r(3),n=r(622);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1},a=s(n,o);if(!n.locals||e.hot.invalidate){var i=n.locals;e.hot.accept(622,(function(){"string"==typeof(n=(n=r(622)).__esModule?n.default:n)&&(n=[[e.i,n,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,n.locals)?(i=n.locals,a(n)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=n.locals||{}},622:function(e,t,r){(t=r(4)(!1)).push([e.i,".loginReg[data-v-735d0db6]{box-sizing:border-box;height:100%}.loginReg .el-row[data-v-735d0db6]{display:flex;height:100%;align-items:center}.loginReg .el-row .el-col .forms[data-v-735d0db6]{padding:3em 3em 3em 3em;background:linear-gradient(#fff, rgba(255,255,255,0.8))}\n",""]),e.exports=t},625:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return s})),r.d(t,"staticRenderFns",(function(){return n}));var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loginReg"},[t("el-row",[t("el-col",{attrs:{xs:1,sm:4,lg:8}},[t("span")]),this._v(" "),t("el-col",{attrs:{xs:22,sm:16,lg:8}},[t("login",{directives:[{name:"show",rawName:"v-show",value:this.login,expression:"login"}],staticClass:"forms",on:{UpdateLogin:this.UpdateLogin}}),this._v(" "),t("register",{directives:[{name:"show",rawName:"v-show",value:!this.login,expression:"!login"}],staticClass:"forms",on:{UpdateLogin:this.UpdateLogin}})],1),this._v(" "),t("el-col",{attrs:{xs:1,sm:4,lg:8}},[t("span")])],1)],1)},n=[];s._withStripped=!0},626:function(e,t,r){"use strict";var s=r(633),n=r(635),o={name:"",data:function(){return{login:!0}},components:{login:s.a,register:n.a},methods:{UpdateLogin:function(e){this.login=e}}};t.a=o},629:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return s})),r.d(t,"staticRenderFns",(function(){return n}));var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-form",{ref:"loginform",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",[r("el-button",{staticClass:"btn",attrs:{type:"primary",plain:""},on:{click:function(t){return e.onLogin("loginform")}}},[e._v("登录")]),e._v(" "),r("el-button",{staticClass:"btn",on:{click:function(t){return e.$emit("UpdateLogin",!1)}}},[e._v("新人注册！")])],1)],1)],1)},n=[];s._withStripped=!0},630:function(e,t,r){"use strict";var s={name:"",data:function(){return{form:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blue"},{min:3,max:18,message:"长度在3-18之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blue"},{min:3,max:18,message:"长度在3-18之间",trigger:"blur"}]}}},components:{},methods:{onLogin:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var r={userName:t.form.userName,password:t.form.password};t.axios.post("/account/userLogin",r).then((function(e){if(e&&200==e.status){t.$message("登录成功！");var r=e.data.data,s=e.data.user;console.log(s),t.$store.dispatch("login",{token:r,user:s}),t.$router.push("/userInfo")}}),(function(e){if(console.log(e),e&&e.response&&403==e.response.status)return t.axios.post("/account/managerLogin",r);throw 1})).then((function(e){if(e&&200==e.status){t.$message("管理员登录成功！");var r=e.data.data,s=e.data.user;t.$store.dispatch("login",{token:r,user:s}),t.$router.push("/userInfo")}})).catch((function(e){console.log(e),1!=e&&403!=e.response.status||t.$message.error("用户名或密码错误，请重试！"),console.log(e)}))}else t.$message.error("检查一下输入格式！")}))}}};t.a=s},631:function(e,t,r){"use strict";r.r(t),r.d(t,"render",(function(){return s})),r.d(t,"staticRenderFns",(function(){return n}));var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("el-form",{ref:"regform",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码","show-password":"",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),r("el-button",{attrs:{size:"small",disabled:e.sendClock.sending},on:{click:function(t){return e.onSendCode("regform")}}},[e._v(e._s(this.sendClock.sending?this.sendClock.count+"后重试":"验证码"))])],1),e._v(" "),r("el-form-item",{attrs:{label:"验证码",width:"50%",prop:"checkCode"}},[r("el-input",{attrs:{maxlength:"4",placeholder:"请输入验证码(四位数字)"},model:{value:e.form.checkCode,callback:function(t){e.$set(e.form,"checkCode",e._n(t))},expression:"form.checkCode"}})],1),e._v(" "),r("el-form-item",[r("el-button",{staticClass:"btn",attrs:{type:"primary",plain:""},on:{click:function(t){return e.onRegister("regform")}}},[e._v("注册")]),e._v(" "),r("el-button",{staticClass:"btn",on:{click:function(t){return e.$emit("UpdateLogin",!0)}}},[e._v("返回登录")])],1)],1)],1)},n=[];s._withStripped=!0},632:function(e,t,r){"use strict";var s={name:"",data:function(){return{sendClock:{sending:!1,count:60,id:null,message:""},form:{userName:"",password:"",email:"",checkCode:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:18,message:"长度在3-18之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:18,message:"长度在3-18之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请检查邮箱格式",trigger:"blur"}],checkCode:[{required:!0,message:"请输入验证码！",trigger:"blur"},{type:"number",message:"验证码为4位数字",trigger:"blur"}]}}},components:{},methods:{onSendCode:function(e){var t=this;this.$refs[e].validateField("email",(function(e){if(e);else{var r={email:t.form.email};t.sendClock.sending=!0,t.sendClock.count=60,t.sendClock.id=setInterval((function(){t.sendClock.count--,0==t.sendClock.count&&(t.sendClock.sending=!1,clearInterval(t.sendClock.id))}),1e3),t.axios.post("/account/checkMail",r).then((function(e){200==e.status&&t.$message("验证码发送成功")})).catch((function(e){t.sendClock.sending=!1,t.$message.error("哎呀！发生错误，请重试")}))}}))},onRegister:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("检查一下该输入的信息噢！"),null;var r={userName:t.form.userName,password:t.form.password,email:t.form.email,checkCode:t.form.checkCode};t.axios.post("/account/userReg",r).then((function(e){200==e.status&&t.$message("注册成功咯")})).catch((function(e){if(t.sendClock.sending=!1,console.log(e.response),403!=e.response.status)t.$message.error("哎呀！发生错误，请重试");else switch(e.response.data.result){case"Duplicate":t.$message.error("用户名重复！请重试");break;case"wrong code":t.$message.error("验证码错误！");break;default:t.$message.error("Forbidden！")}}))}))}}};t.a=s},633:function(e,t,r){"use strict";var s=r(629),n=r(630),o=(r(634),r(2)),a=Object(o.a)(n.a,s.render,s.staticRenderFns,!1,null,"45564c0c",null),i=r(5);i.install(r(1)),i.compatible&&(e.hot.accept(),i.isRecorded("45564c0c")?i.reload("45564c0c",a.options):i.createRecord("45564c0c",a.options),e.hot.accept(629,function(e){s=r(629),i.rerender("45564c0c",{render:s.render,staticRenderFns:s.staticRenderFns})}.bind(this))),a.options.__file="src/components/loginRegComponent/login.vue",t.a=a.exports},634:function(e,t,r){"use strict";var s=r(617);r.n(s).a},635:function(e,t,r){"use strict";var s=r(631),n=r(632),o=(r(636),r(2)),a=Object(o.a)(n.a,s.render,s.staticRenderFns,!1,null,"d8667d60",null),i=r(5);i.install(r(1)),i.compatible&&(e.hot.accept(),i.isRecorded("d8667d60")?i.reload("d8667d60",a.options):i.createRecord("d8667d60",a.options),e.hot.accept(631,function(e){s=r(631),i.rerender("d8667d60",{render:s.render,staticRenderFns:s.staticRenderFns})}.bind(this))),a.options.__file="src/components/loginRegComponent/register.vue",t.a=a.exports},636:function(e,t,r){"use strict";var s=r(619);r.n(s).a},637:function(e,t,r){"use strict";var s=r(621);r.n(s).a},639:function(e,t,r){"use strict";r.r(t);var s=r(625),n=r(626),o=(r(637),r(2)),a=Object(o.a)(n.a,s.render,s.staticRenderFns,!1,null,"735d0db6",null),i=r(5);i.install(r(1)),i.compatible&&(e.hot.accept(),i.isRecorded("735d0db6")?i.reload("735d0db6",a.options):i.createRecord("735d0db6",a.options),e.hot.accept(625,function(e){s=r(625),i.rerender("735d0db6",{render:s.render,staticRenderFns:s.staticRenderFns})}.bind(this))),a.options.__file="src/Views/loginReg.vue",t.default=a.exports}}]);